{
    "$schema": "https://raw.githubusercontent.com/microsoft/botframework-sdk/master/schemas/component/component.schema",
    "$role": "implements(Microsoft.IRecognizer)",
    "title": "QnAMaker Recognizer",
    "description": "Recognizer for generating QnAMatch intents from a KB.",
    "type": "object",
    "properties": {
        "id": {
            "type": "string",
            "title": "Id",
            "description": "Optional unique id using with RecognizerSet."
        },
        "knowledgeBaseId": {
            "$role": "expression",
            "type": "string",
            "pattern": "^(\\S){1}",
            "title": "KnowledgeBase Id",
            "description": "KnowledgeBase Id of your QnA Maker KnowledgeBase.",
            "default": "settings.qna.knowledgebaseid"
        },
        "endpointKey": {
            "$role": "expression",
            "type": "string",
            "pattern": "^(\\S){1}",
            "title": "Endpoint Key",
            "description": "Endpoint key for the QnA Maker KB.",
            "default": "settings.qna.endpointkey"
        },
        "hostname": {
            "$role": "expression",
            "type": "string",
            "pattern": "^(\\S){1}",
            "title": "Hostname",
            "description": "Hostname for your QnA Maker service.",
            "default": "settings.qna.hostname",
            "examples": [
                "https://yourserver.azurewebsites.net/qnamaker"
            ]
        },
        "threshold": {
            "$role": "expression",
            "type": [ "number", "string" ],
            "pattern": "^=(\\S){1}",
            "title": "Threshold",
            "description": "Threshold score to filter results.",
            "default": 0.3
        },
        "strictFilters": {
            "$role": "expression",
            "type": [ "array", "string" ],
            "pattern": "^=(\\S){1}",
            "title": "Strict Filters",
            "description": "Metadata filters to use when calling the QnA Maker KB.",
            "items": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "maximum": 100
                    },
                    "value": {
                        "type": "string",
                        "title": "Value",
                        "maximum": 100
                    }
                }
            }
        },
        "top": {
            "$role": "expression",
            "type": [ "number", "string" ],
            "pattern": "^=(\\S){1}",
            "title": "Top",
            "description": "The number of answers you want to retrieve.",
            "default": 3
        },
        "isTest": {
            "$role": "expression",
            "type": [ "boolean", "string" ],
            "pattern": "^=(\\S){1}",
            "title": "IsTest",
            "description": "True, if pointing to Test environment, else false.",
            "default": false,
            "examples": [
                true,
                "=f(x)"
            ]
        },
        "rankerType": {
            "$role": "expression",
            "type": "string",
            "pattern": "^(\\S){1}",
            "title": "RankerType",
            "description": "Type of Ranker.",
            "default": "Default"
        },
        "includeDialogNameInMetadata": {
            "$role": "expression",
            "type": [ "boolean", "string" ],
            "pattern": "^=(\\S){1}",
            "title": "Include Dialog Name",
            "description": "When set to false, the dialog name will not be passed to QnAMaker. (default) is true",
            "default": true,
            "examples": [
                true,
                "=f(x)"
            ]
        },
        "metadata": {
            "$role": "expression",
            "type": [ "array", "string" ],
            "pattern": "^=(\\S){1}",
            "title": "value to ",
            "description": "Metadata filters to use when calling the QnA Maker KB.",
            "items": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name"
                    },
                    "value": {
                        "type": "string",
                        "title": "Value"
                    }
                }
            }
        },
        "context": {
            "$role": "expression",
            "type": [ "object", "string" ],
            "pattern": "^=(\\S){1}",
            "title": "QnARequestContext"
        },
        "qnaId": {
            "$role": "expression",
            "type": [ "integer", "string" ],
            "pattern": "^=(\\S){1}",
            "title": "QnAId",
            "description": "A number or expression which is the QnAId to paass to QnAMaker API."
        }
    },
    "required": [
        "knowledgeBaseId",
        "endpointKey",
        "hostname"
    ]
}
